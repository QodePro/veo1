<script type="importmap">
  {
    "imports": {
      "@google/genai": "https://esm.sh/@google/genai@^1.4.0"
    }
  }
</script>
<h1>Veo - Video Generation</h1>
<!-- Input para la clave API debajo del título -->
<p>
  <input id="api-key-input" type="text" placeholder="Clave Api" />
</p>
<script>
  // Guarda la clave API cada vez que el usuario la escribe
  document.getElementById('api-key-input').addEventListener('input', function() {
    localStorage.setItem('userApiKey', this.value);
  });
  // Si el usuario ya tiene una clave guardada, la muestra en el input al cargar la página
  window.addEventListener('DOMContentLoaded', function() {
    var apiKey = localStorage.getItem('userApiKey') || '';
    document.getElementById('api-key-input').value = apiKey;
  });
</script>
<p>Enter a prompt.</p>
<p><textarea id="prompt-input" type="text" placeholder="Enter a prompt"></textarea></p>
<p>Provide a conditioning image if the model supports it.</p>
<p><input id="file-input" type="file" accept="image/*" /></p>
<img alt="Condition image" id="img" />
<button id="generate-button">Generate</button>
<div id="quota-error">
  <p>Veo is available with limited free generations per day for testing.</p>
  <p>You exceeded your current quota, to continue please use your paid API key.</p>
  <p><button id="open-key">Click here to add your API key.</button></p>
</div>
<video id="video" autoplay loop controls></video>
<p id="status">Ready.</p>
